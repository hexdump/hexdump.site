<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">

<div id="display" align="center">
  <span id="text">QuickRead</span>
</div>

<p>Quickly read text.</p>

<style>
  #text {
      font-size: 4em;
  }
  body {
      font-family: Montserrat;
      font-size: 1.1em;
  }
  textarea {
      border: 1px solid black;
      background-color: white;
      resize: none;
      margin-left: 10%;
      width: 80%;
      height: 20%;
      padding: 1em;
      margin-right: 10%;
      display: block;
      font-size: 1em;
  }
  button {
      font-size: 0.9em;
      padding: 1em;
      background-color: white;
      border: 1px solid black;
  }
  button:active {
      background-color: black;
      color: white;
  }
</style>

<textarea id="corpus" placeholder="klk">

</textarea>
<br/>
<strong>Input delay (milliseconds)</strong><br/>
<input id="delay" type="number" value="100">
<br/><br/>
<button onclick="readText()">Read Text</button>

<script>
  let words
  let delay
  function readText() {
      words = document.getElementById('corpus').value.split(' ')
      delay = document.getElementById('delay').value
      document.body.innerHTML = ''
      let text = document.createElement('span')
      text.id = 'text'
      text.style.cssText = 'width: 100%;font-size:4em;text-align:center;padding-top:2em;'
      document.body.appendChild(text)
      iterWords(words)
  }
  
  function iterWords(words) {
      if (words.length === 0) {
	  return
      }
      else {
	  setTimeout(function() {
	      iterWords(words.slice(1, Infinity))
	      document.getElementById('text').innerHTML = words[0];
	  }, delay)
      }
  }
</script>
